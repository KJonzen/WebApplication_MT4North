<!-- Vertical navbar -->
<div class="container-fluid" [class.mt-5]="isFullscreen() === false" id="content">
  <a id="show-sidebar" [style.display]="isFullscreen() ? 'none' : 'block'" class="btn btn-sm btn-light">
    <i class="fas fa-chevron-right"></i>
  </a>
  <div class="vertical-nav bg-white mt-0" id="sidebar" [style.display]="isFullscreen() ? 'none' : 'block'" [class.active]="isFullscreen() === true">
      <div [style.display]="isFullscreen() ? 'none' : 'block'" class="float-right bg-light m-3 mb-0" id="close-sidebar">
        <i class="fas fa-times"></i>
      </div>
    <div class="py-4 px-3 mb-4 bg-light mt-0">
      <div class="media d-flex align-items-center">
       <!-- <img src="https://res.cloudinary.com/mhmd/image/upload/v1556074849/avatar-1_tcnd60.png" alt="..." width="65" class="mr-3 rounded-circle img-thumbnail shadow-sm">-->
        <div class="media-body">
          <h4 class="m-0">{{currentUser?.firstname}} {{currentUser?.lastname}}</h4>
          <p class="font-weight-light text-muted mb-0">Organisation</p>
        </div>
      </div>
    </div>
    <!-- Toggle button -->
    <!--
  <div [style.display]="isFullscreen() ? 'none' : 'block'">
    <button id="sidebarCollapse" type="button" class="btn btn-light bg-white rounded-pill shadow-sm mb-4"><i class="fa fa-bars"></i></button>
  </div>
    -->
    <div class="col-lg">
      <!--
    <div class="row">
      <div class="col-lg">
        <p class="text-gray font-weight-bold text-uppercase float-left">PROJECTS</p>
        <p class="float-right"><span class="fa fa-plus-circle"></span></p>
      </div>
    </div>
    -->
      <div class="accordion mb-2" id="accordionExample">
        <div class="card">
          <div class="card-header" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne" id="headingOne">
            <h2 class="mb-0">
              <a >
                <span><i class="fa fa-user"></i> Konto</span>
                <i class="fa fa-chevron-down toggle"></i>
              </a>
            </h2>
          </div>
          <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
            <div class="card-body">
              <ul class="list-group">
                <li class="btn text-left list-group-item" [routerLink]="['./edit-account']"><i class="fa fa-pencil"></i> Redigera</li>
                <li class="btn text-left list-group-item"><a href="#"><i class="fa fa-key"></i> Ändra lösenord</a></li>
                <li class="btn text-left list-group-item"><a href="#" class="text-danger"><i class="fa fa-trash"></i> Ta bort konto</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header" id="headingTwo" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo"S>
            <h2 class="mb-0">
              <a>
                <span><i class="fa fa-briefcase"></i> Projekt</span>
                <i class="fa fa-chevron-down toggle rotate"></i>
              </a>
            </h2>
          </div>
          <div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo" data-parent="#accordionExample">
            <div class="card-body">
              <ul class="list-group">
                <ng-container *ngFor="let project of projects; let i = index">
                  <li class="btn text-left list-group-item" routerLink="./projects/{{project?.projectid}}/activity-status" (click)="selectProject(project?.projectid)"><a>{{project?.name}}</a> <!--<span class="badge badge-pill badge-primary">20</span>--></li>
                </ng-container>
              </ul>
              <button class="btn w-100 text-left" id="addBtn" data-toggle="modal" data-target="#addProjectModal" (click)="resetModal()"><span><i class="fa fa-plus"></i> Skapa nytt projekt</span></button>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header" id="headingFour" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
            <h2 class="mb-0">
              <a>
                <span><i class="fa fa-cog"></i> Inställningar</span>
                <i class="fa fa-chevron-down toggle"></i>
              </a>
            </h2>
          </div>
          <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
            <div class="card-body">
              <ul class="list-group">
                <li class="btn text-left list-group-item"><a href="#"><i class="fa fa-bell"></i> Ställ in notifieringar</a></li>
              </ul>
            </div>
          </div>
        </div>
        <!--<div class="card">
          <div class="card-header" id="headingFive">
            <h2 class="mb-0"><a href="#"><i class="fa fa-power-off"></i> Logga ut</a></h2>
          </div>
        </div>-->
      </div>
    </div>

  </div>
  <!-- End vertical navbar -->
  <!-- Page content holder -->
  <div class="page-content" [class.pl-4]="isFullscreen() === false" [class.pt-5]="isFullscreen() === false" id="content" [class.active]="isFullscreen() === true">

    <div class="row">
      <!-- Demo content -->
      <div class="col">
        <router-outlet></router-outlet>
        <!-- Modal -->
        <div class="modal fade" id="addProjectModal" tabindex="-1" role="dialog">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Skapa nytt projekt</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form [formGroup]="projectForm" (ngSubmit)="createProject()" ngNativeClass class="form-group mt-2" [style.display]="isFirstStepModal ? 'block' : 'none'">
                  <label for="projectTitle"><b>Projektets titel</b></label>
                  <input class="form-control" formControlName="name" id="projectTitle" aria-describedby="projectTitleHelp" maxlength="50" required  [ngClass]="{ 'is-invalid': submitted && f.name.errors }"/>
                  <!--<small id="projectTitleHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>-->

                  <p class="p-0 m-0"><label for="projectDescriptionText" class="col-form-label"><b>Kort projektbeskrivning</b><small class="ml-2">Valfritt</small></label></p>
                  <textarea class="form-control" formControlName="description" id="projectDescriptionText" maxlength="250" [ngClass]="{ 'is-invalid': submitted && f.description.errors }"></textarea>
                </form>

                <form [formGroup]="invitationForm" class="form-group mt-2" [style.display]="isFirstStepModal ? 'none' : 'block'" id="newProjectForm2">
                  <label for="projectTitle"><b>Projektmedlemmar</b><small class="ml-2">Valfritt</small></label>
                  <div *ngFor="let userInvitation of userInvitations">
                    <div class="card mb-1 col-6" style="background-color: #F9F9F9; border: 1px solid lightgray">
                      <span class="d-inline-block" style="white-space:nowrap">
                        <span class="card-text">
                          {{userInvitation.email}}
                        </span>
                        <span class="d-inline-block float-right" style="white-space:nowrap">

                          <i class="fa fa-eye mr-2" style="font-size:10px; color: gray"></i>
                          <span class="btn p-0 m-0" data-effect="fadeOut" (click)="removeMember(fi.email.value)">×</span>
                        </span>
                      </span>
                    </div>
                  </div>
                  <div class="row" style="margin:16px 0 16px 0">
                    <input type="email" class="form-control col" formControlName="email" placeholder="Ange emailadress" aria-describedby="inviteMembersHelp" maxlength="100" required [ngClass]="{ 'is-invalid': submitted && fi.email.errors }">
                    <input class="form-control col" formControlName="role" placeholder="Ange roll" aria-describedby="inviteMembersHelp" maxlength="100">

                    <div class="form-group m-0">
                      <!--<label for="sel1">Behörighet:</label>-->
                      <select class="form-control" id="sel1" formControlName="permissions">
                        <option>Kan endast läsa</option>
                        <option>Kan läsa och redigera</option>
                      </select>
                    </div>
                  </div>
                  <button class="btn btn-primary" (click)="addMember(fi.email.value, fi.role.value, fi.permissions.value)">Lägg till</button>
                </form>
              </div>
              <div class="modal-footer">
                <button type="submit" (click)="createProject()" class="btn im-btn-primary" [style.display]="isFirstStepModal ? 'block' : 'none'">Skapa och fortsätt</button>
                <button type="button" class="btn" [style.display]="isFirstStepModal ? 'none' : 'block'" data-dismiss="modal"><u>Jag gör det här senare.</u></button>
                <button type="button" (click)="inviteMembers()" class="btn im-btn-primary" data-dismiss="modal" [style.display]="isFirstStepModal ? 'none' : 'block'">Bjud in till projekt</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--<app-my-pages-start></app-my-pages-start>-->

  </div>
</div>
